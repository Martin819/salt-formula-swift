applications:
- swift
parameters:
  swift:
    proxy:
      enabled: true
      secret_key: shared_hash_suffix
      bind:
        address: ${linux:network:host:local:address}
        port: 8080
      cache:
        members: 
        - host: ${linux:network:host:ctl01:address}
          port: 11211
        - host: ${linux:network:host:ctl02:address}
          port: 11211
        - host: ${linux:network:host:ctl03:address}
          port: 11211
      ring:
        partition_power: 3
        replicas: 3
        hours: 1
      identity:
        engine: keystone
        host: ${linux:network:host:vip:address}
        port: 35357
        user: swift
        password: vuugri3ubrisebfsuir23
        tenant: service
  haproxy:
    proxy:
      listens:
      - name: swift
        type: general-service
        binds:
        - address: ${linux:network:host:vip:address}
          port: 8080
        servers:
        - name: ctl01
          host: ${linux:network:host:ctl01:address}
          port: 8080
          params: check
        - name: ctl02
          host: ${linux:network:host:ctl02:address}
          port: 8080
          params: check
        - name: ctl03
          host: ${linux:network:host:ctl03:address}
          port: 8080
          params: check
